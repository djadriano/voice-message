{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../src/js/layout/App.svelte",
    "../src/js/pages/Recorder.svelte",
    "../src/js/components/Header.svelte",
    "../src/js/components/Recorder.svelte",
    "../src/js/components/Counter.svelte"
  ],
  "sourcesContent": [
    "<style>\n  :global(body) {\n    margin: 0;\n    padding: 0;\n  }\n  main {\n    position: relative;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n</style>\n\n<script>\n  // -----------------------------------------------\n  // Imports\n  // -----------------------------------------------\n\n  import { Router, Route } from 'svelte-routing';\n  import RecorderPage from '../pages/Recorder.svelte';\n  import PreviewPage from '../pages/Preview.svelte';\n  import SuccessPage from '../pages/Success.svelte';\n\n  // -----------------------------------------------\n  // State variables\n  // -----------------------------------------------\n\n  export let url = '';\n</script>\n\n<main>\n  <Router {url}>\n    <Route path=\"success\" component=\"{SuccessPage}\" />\n    <Route path=\"preview\" component=\"{PreviewPage}\" />\n    <Route path=\"/\" component=\"{RecorderPage}\" />\n  </Router>\n</main>\n",
    "<style>\n  .recorder {\n    position: relative;\n  }\n</style>\n\n<script>\n  // -----------------------------------------------\n  // Imports\n  // -----------------------------------------------\n\n  import { navigate } from 'svelte-routing';\n  import Recorder from '../components/Recorder.svelte';\n\n  // -----------------------------------------------\n  // Methods\n  // -----------------------------------------------\n\n  function onRecorded() {\n    navigate('/preview');\n  }\n</script>\n\n<section class=\"recorder\">\n  <Recorder on:finish=\"{onRecorded}\" />\n</section>\n",
    "<style>\n  img {\n    width: 100px;\n    height: 100px;\n  }\n</style>\n\n<script>\n  // -----------------------------------------------\n  // State variables\n  // -----------------------------------------------\n\n  export let name;\n  export let photo;\n</script>\n\n<header>\n  {#if photo}\n    <img src=\"{photo}\" alt=\"{name}\" />\n  {/if}\n  <h1>Hello {name}</h1>\n</header>\n",
    "<style>\n  button {\n    color: white;\n    border: 0;\n    background: transparent;\n  }\n\n  .icon {\n    width: 50px;\n    height: 50px;\n  }\n\n  .icon.active {\n    animation: pulse 250ms infinite;\n  }\n\n  @keyframes pulse {\n    from {\n      fill: black;\n    }\n    to {\n      fill: red;\n    }\n  }\n</style>\n\n<script>\n  // -----------------------------------------------\n  // Imports\n  // -----------------------------------------------\n\n  import { createEventDispatcher } from 'svelte';\n  import { recorder } from '../utils/store.js';\n  import AudioRecorder from 'audio-recorder-polyfill';\n  import Counter from './Counter.svelte';\n\n  // -----------------------------------------------\n  // Constants\n  // -----------------------------------------------\n\n  const dispatch = createEventDispatcher();\n  const constraints = {\n    audio: true,\n    video: false,\n  };\n\n  // -----------------------------------------------\n  // State variables\n  // -----------------------------------------------\n\n  let mediaRecorder = '';\n  let buttonLabel = {\n    START: 'Start record',\n    STARTED: 'Stop record',\n  };\n\n  // -----------------------------------------------\n  // Methods\n  // -----------------------------------------------\n\n  function toggleRecord() {\n    const { status } = $recorder;\n\n    status === 'START' ? start() : stop();\n  }\n\n  async function start() {\n    recorder.set({\n      ...$recorder,\n      status: 'STARTED',\n    });\n\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n\n      mediaRecorder = new AudioRecorder(stream);\n      mediaRecorder.start();\n      mediaRecorder.addEventListener('dataavailable', hasMediaData);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function hasMediaData(evt) {\n    const file = evt.data;\n\n    recorder.set({\n      ...$recorder,\n      file,\n    });\n\n    dispatch('finish', file);\n    setTimeout(stopBrowserMic, 1000);\n  }\n\n  function stop() {\n    mediaRecorder.stop();\n\n    recorder.set({\n      ...$recorder,\n      status: 'STOP',\n    });\n  }\n\n  function stopBrowserMic() {\n    mediaRecorder.stream.getTracks().forEach(i => i.stop());\n  }\n</script>\n\n<section>\n  <button on:click=\"{toggleRecord}\">\n    <svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" class=\"icon\" class:active=\"{$recorder.status === 'STARTED'}\">\n      <path d=\"M8 11a3 3 0 003-3V3a3 3 0 10-6 0v5a3 3 0 003 3z\"/>\n      <path d=\"M13 8V6h-1v1.844c0 1.92-1.282 3.688-3.164 4.071A4.007 4.007 0 014 8V6H3v2a5.01 5.01 0 004 4.899V15H5v1h6v-1H9v-2.101A5.01 5.01 0 0013 8z\"/>\n    </svg>\n  </button>\n  <Counter on:stop=\"{stop}\" recorderStatus=\"{$recorder.status}\" />\n</section>\n",
    "<style>\n  time {\n    display: block;\n    text-align: center;\n  }\n</style>\n\n<script>\n  import { createEventDispatcher } from 'svelte';\n\n  const dispatch = createEventDispatcher();\n  const maxRecorderSeconds = 30;\n  const intervalTime = 1000;\n\n  export let recorderStatus;\n\n  $: recorderStatus === 'STARTED' ? start() : stop();\n\n  let counter = 0;\n  let counterInterval;\n\n  function start() {\n    counterInterval = setInterval(incrementCounter, intervalTime);\n  }\n\n  function incrementCounter() {\n    counter === maxRecorderSeconds ? cancelInterval() : (counter += 1);\n  }\n\n  function cancelInterval() {\n    clearInterval(counterInterval);\n    counter = 0;\n    dispatch('stop');\n  }\n\n  function stop() {\n    if (counter) clearInterval(counterInterval);\n  }\n</script>\n\n<time>{counter}</time>\n"
  ],
  "names": [],
  "mappings": "AACU,IAAI,AAAE,CAAC,AACb,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,AACZ,CAAC,AACD,IAAI,eAAC,CAAC,AACJ,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MAAM,AACrB,CAAC;ACVD,SAAS,cAAC,CAAC,AACT,QAAQ,CAAE,QAAQ,AACpB,CAAC;ACFD,GAAG,eAAC,CAAC,AACH,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,AACf,CAAC;ACHD,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,CAAC,CACT,UAAU,CAAE,WAAW,AACzB,CAAC,AAED,KAAK,cAAC,CAAC,AACL,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACd,CAAC,AAED,KAAK,OAAO,cAAC,CAAC,AACZ,SAAS,CAAE,mBAAK,CAAC,KAAK,CAAC,QAAQ,AACjC,CAAC,AAED,WAAW,mBAAM,CAAC,AAChB,IAAI,AAAC,CAAC,AACJ,IAAI,CAAE,KAAK,AACb,CAAC,AACD,EAAE,AAAC,CAAC,AACF,IAAI,CAAE,GAAG,AACX,CAAC,AACH,CAAC;ACtBD,IAAI,cAAC,CAAC,AACJ,OAAO,CAAE,KAAK,CACd,UAAU,CAAE,MAAM,AACpB,CAAC"
}